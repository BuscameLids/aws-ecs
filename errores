service cb-service failed to launch a task with (error ECS was unable to assume the role
 'arn:aws:iam::170054446405:role/ecs_task_execution_role' that was provided for this task. 
 Please verify that the role being passed has the proper trust relationship 
and permissions and that your IAM user has permissions to pass this role.).


resource cannot be initialized for task arn:aws:ecs:us-east-1:170054446405:task/cb-cluster/0bca1d8f06154972a5f4681bceb16d81: 
user needs to be specified for proxy container

STOPPED (CannotPullECRContainerError: AccessDeniedException)


Status reason	CannotPullECRContainerError: 
AccessDeniedException: User: arn:aws:sts::170054446405:assumed-role/ecs_task_execution_role/dedc88105d9443c7a4972717778506d0 
is not authorized to perform: ecr:GetAuthorizationToken on resource: * status code: 400, request id:

resource "aws_ecs_task_definition" "app" {
  family                   = "cb-app-task"
  execution_role_arn       = aws_iam_role.ecs_task_execution_role.arn
  network_mode             = "awsvpc"
  requires_compatibilities = ["FARGATE"]
  cpu                      = var.fargate_cpu
  memory                   = var.fargate_memory
  container_definitions    = data.template_file.cb_app.rendered

  proxy_configuration {
    type           = "APPMESH"
    container_name = "cb-app"
    properties = {
      AppPorts         = "8080"
      EgressIgnoredIPs = "169.254.170.2,169.254.169.254"
      IgnoredUID       = "1337"
      ProxyEgressPort  = 15001
      ProxyIngressPort = 15000
    }
  }

}